<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Inventory</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
<!-- Navigation include -->
<div id="nav"></div>

<div class="container">
  <h1>My Inventory</h1>
  <div class="inventory-controls">
    <button id="addItemBtn">Add item to inventory</button>
    <button id="sortBtn">Sort by Ingredient Type</button>
    <label for="filterInput"></label><input type="text" id="filterInput" placeholder="Filter by ingredient name">
    <button id="filterBtn">Filter</button>
    <button id="clearFilterBtn">Clear Filters</button>
  </div>

  <!-- Inventory table -->
  <table id="inventoryTable" border="1" width="100%">
    <thead>
    <tr>
      <th>Ingredient Type</th>
      <th>Ingredient Name</th>
      <th>Unit Measure</th>
      <th>Quantity</th>
      <th>Date Added</th>
      <th>Expiration Date</th>
      <th>Comment</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <!-- Inventory rows loaded via AJAX -->
    </tbody>
  </table>
</div>

<!-- Add Item Modal -->
<div id="addItemModal" class="modal">
  <div class="modal-content">
    <span class="close" id="addItemClose">&times;</span>
    <h2>Add Item to Inventory</h2>
    <form id="addItemForm">
      <label for="ingredientInput">Ingredient Name:</label>
      <input type="text" id="ingredientInput" list="ingredientsList" placeholder="Select ingredient" required>
      <datalist id="ingredientsList">
        <!-- Options loaded dynamically via JS -->
      </datalist>
      <br>
      <label for="unitMeasure">Unit Measure:</label>
      <select id="unitMeasure">
        <option value="">Select</option>
        <option value="kg">kg</option>
        <option value="g">g</option>
        <option value="l">l</option>
        <option value="ml">ml</option>
        <option value="units">units</option>
      </select>
      <br>
      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" step="1" min="1" placeholder="Enter quantity">
      <br>
      <label for="expirationDate">Expiration Date:</label>
      <input type="date" id="expirationDate" required>
      <br>
      <label for="comment">Comment (max 50 chars):</label>
      <input type="text" id="comment" maxlength="50" placeholder="Optional comment">
      <br>
      <button type="submit">Add Item</button>
    </form>
  </div>
</div>

<!-- Edit Item Modal -->
<div id="editItemModal" class="modal">
  <div class="modal-content">
    <span class="close" id="editItemClose">&times;</span>
    <h2>Edit Inventory Item</h2>
    <form id="editItemForm">
      <!-- Hidden field for inventory_id -->
      <input type="hidden" id="editInventoryId">

      <label for="editIngredientInput">Ingredient Name:</label>
      <input type="text" id="editIngredientInput" list="ingredientsList" required>
      <br>

      <label for="editUnitMeasure">Unit Measure:</label>
      <select id="editUnitMeasure" required>
        <option value="">Select</option>
        <option value="kg">kg</option>
        <option value="g">g</option>
        <option value="l">l</option>
        <option value="ml">ml</option>
        <option value="units">units</option>
      </select>
      <br>

      <label for="editQuantity">Quantity:</label>
      <input type="number" id="editQuantity" step="1" min="1" required>
      <br>

      <!-- Date Added is now OPTIONAL (no required attribute) -->
      <label for="editDateAdded">Date Added (optional):</label>
      <input type="date" id="editDateAdded">
      <br>

      <label for="editExpirationDate">Expiration Date:</label>
      <input type="date" id="editExpirationDate" required>
      <br>

      <label for="editComment">Comment (max 50 chars):</label>
      <input type="text" id="editComment" maxlength="50">
      <br>

      <button type="submit">Save Changes</button>
    </form>
  </div>
</div>

<!-- Footer include -->
<div id="foot"></div>

<script src="../js/my_inventory.js"></script>
</body>
</html>
